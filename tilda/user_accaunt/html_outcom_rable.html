<div class='out_payment_table'>
    <div class="header">
        <div class="column_1 column"><div class="text">Дата Время</div></div>
        <div class="column_2 column"><div class="text">Платежная система</div></div>
        <div class="column_3 column"><div class="text">ID заказа</div></div>
        <div class="column_4 column"><div class="text">Сумма</div></div>
    </div>

</div>


<style>
    .out_payment_table .text, .row .text{
        color: #9F9F9F;
        font-size: 16px;
        font-family: 'TildaSans',Arial,sans-serif;
        line-height: 1.55;
        font-weight: 400;
    }

    .out_payment_table .row .text{
        color: #767676;
    }

    .out_payment_table .row .column_4 .text{
        font-size: 24px;
    }

    .out_payment_table .row .column_4 .text span{
        font-size: 16px;
    }

    .out_payment_table .header, .out_payment_table .row{
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    .out_payment_table .column{
        width: 200px;
    }

    .out_payment_table .column_4{
        margin-left: auto;
    }

    .out_payment_table .column_3 .text{
        text-align: center;
    }

</style>


<script>
    let bottumGap = 50
    let html_row = `
    <div class="row row_">
        <div class="column_1 column"><div class="text"></div></div>
        <div class="column_2 column"><div class="text"></div></div>
        <div class="column_3 column"><div class="text"></div></div>
        <div class="column_4 column"><div class="text"></div></div>
    </div>
    `

    function fillPaymentTabele(data){
        if(!data) return false
        data.forEach( (element, i) => {
            $('.out_payment_table ').append(html_row)
            $('.out_payment_table .row_').addClass(`row_${i}`).removeClass('row_')
            $(`.out_payment_table .row_${i} .column_1 .text`).text(element.datetime)
            $(`.out_payment_table .row_${i} .column_2 .text`).text(element.paymentsystem)
            $(`.out_payment_table .row_${i} .column_3 .text`).text(element.trnsaction)
            $(`.out_payment_table .row_${i} .column_4 .text`).html(`${element.sum} <span> p.</span>`)
        });
        $('.uc-outcom').css({'display':'block','opacity':'0.01'})
        whaitRendered('uc-outcom',function(){
            ajastBG('out_paymentBG', 'out_payment_table', bottumGap)
        })
        
    }

    function ajastBG(BGClassName, classNameTable, setBottumGap){
        let buttomBG = $(`.${BGClassName}`).offset().top + $(`.${BGClassName}`).height()
        let buttomTable = $(`.${classNameTable}`).offset().top + $(`.${classNameTable}`).height()
        let gap = buttomBG - buttomTable
        let newHiegthBG = $(`.${BGClassName}`).height() + setBottumGap - gap
        $(`.${BGClassName}`).height(newHiegthBG)
        let newHiegthZero = $(`.${BGClassName}`).parents('.t396__artboard').height() + setBottumGap - gap
        $(`.${BGClassName}`).parents('.t396__artboard').height(newHiegthZero)
        $('.uc-incom').animate({opacity:1.0},500)
    }

    function whaitRendered(classNameZBl, callBack){
        let idInterval = setInterval(()=>{
            let rendered = $(`.${classNameZBl} .t396__artboard`).hasClass('rendered')
            if(!rendered) return false
            clearInterval(idInterval)
            callBack()
        },300)
    }
</script>